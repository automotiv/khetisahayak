# =============================================================================
# KHETI SAHAYAK BACKEND - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update values for your environment
# Required fields are marked with [REQUIRED]
# Optional fields are marked with [OPTIONAL]
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration [REQUIRED]
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# -----------------------------------------------------------------------------
# Database Configuration [REQUIRED]
# -----------------------------------------------------------------------------
# For local development:
DB_HOST=localhost
DB_PORT=5432
DB_NAME=kheti_sahayak
DB_USER=postgres
DB_PASSWORD=postgres

# For Render/Production (alternative to individual vars):
# DATABASE_URL=postgresql://user:password@host:5432/database

# -----------------------------------------------------------------------------
# Redis Configuration [OPTIONAL]
# -----------------------------------------------------------------------------
# If not configured, backend uses in-memory mock (not suitable for production)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# JWT Configuration [REQUIRED]
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a strong secret for production (min 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_change_this_in_production
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Google OAuth [OPTIONAL - for social login]
# -----------------------------------------------------------------------------
# Get credentials from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_web_client_id
GOOGLE_CLIENT_ID_IOS=your_google_ios_client_id
GOOGLE_CLIENT_ID_ANDROID=your_google_android_client_id

# -----------------------------------------------------------------------------
# Facebook OAuth [OPTIONAL - for social login]
# -----------------------------------------------------------------------------
# Get credentials from Facebook Developers:
# https://developers.facebook.com/apps
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# -----------------------------------------------------------------------------
# Email/SMTP Configuration [OPTIONAL - for notifications]
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_app_password
SMTP_FROM_NAME=Kheti Sahayak
SMTP_FROM_EMAIL=noreply@khetisahayak.com

# -----------------------------------------------------------------------------
# SMS Configuration [OPTIONAL - for OTP verification]
# -----------------------------------------------------------------------------
# Supported providers: msg91, twilio, console (for development)
SMS_PROVIDER=console
MSG91_AUTH_KEY=your_msg91_auth_key
MSG91_SENDER_ID=KHETI
MSG91_TEMPLATE_ID=your_msg91_template_id
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# AWS S3 Configuration [OPTIONAL - for file uploads]
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=khetisahayak-uploads

# -----------------------------------------------------------------------------
# Weather API [OPTIONAL - for weather data]
# -----------------------------------------------------------------------------
# Primary weather API - Get key from OpenWeatherMap: https://openweathermap.org/api
# Supports: Current weather, 5-day forecast, geocoding
# Free tier: 1000 calls/day, sufficient for development
WEATHER_API_KEY=your_weather_api_key
OPENWEATHER_API_KEY=your_openweathermap_api_key

# India Meteorological Department (IMD) data via data.gov.in
# Get API key from: https://data.gov.in/
# Provides official Indian weather data (district-level)
DATA_GOV_API_KEY=your_data_gov_india_api_key
IMD_API_KEY=your_imd_api_key

# -----------------------------------------------------------------------------
# OpenAI API [OPTIONAL - for AI features]
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key

# -----------------------------------------------------------------------------
# ML Service [OPTIONAL - for crop disease detection]
# -----------------------------------------------------------------------------
ML_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# LLaVA AI Diagnostics [OPTIONAL - for AI-powered crop diagnosis]
# -----------------------------------------------------------------------------
# LLaVA API server URL (see ml/crop_diagnostics/api_server.py)
LLAVA_API_URL=http://localhost:8001
# Request timeout in milliseconds (default: 60000 = 60 seconds)
LLAVA_TIMEOUT_MS=60000
# Cache TTL for diagnosis responses in milliseconds (default: 3600000 = 1 hour)
DIAGNOSIS_CACHE_TTL_MS=3600000
# Maximum number of cached diagnosis responses (default: 100)
DIAGNOSIS_CACHE_MAX_SIZE=100

# -----------------------------------------------------------------------------
# Payment Gateway [OPTIONAL - for marketplace]
# -----------------------------------------------------------------------------
# Get credentials from Razorpay Dashboard: https://dashboard.razorpay.com
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret

# -----------------------------------------------------------------------------
# Firebase [OPTIONAL - for push notifications]
# -----------------------------------------------------------------------------
# Download service account JSON from Firebase Console
FIREBASE_PROJECT_ID=your_firebase_project_id
# FIREBASE_SERVICE_ACCOUNT_JSON=path/to/serviceAccount.json

# -----------------------------------------------------------------------------
# Sentry Error Monitoring [OPTIONAL]
# -----------------------------------------------------------------------------
# Get DSN from Sentry.io: https://sentry.io/settings/projects
SENTRY_DSN=

# -----------------------------------------------------------------------------
# Logging [OPTIONAL]
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Frontend URLs [OPTIONAL - for email links]
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3000
APP_SCHEME=khetisahayak